<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 6.3.0" name=generator><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><link href=/css/main.css rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity=sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css rel=stylesheet><script crossorigin=anonymous integrity=sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0= src=https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js></script><script class=next-config data-name=main type=application/json>{"hostname":"seabreeze.zone","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.14.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta content="MySQL 是一个免费的关系型数据库，在同类产品中的占比较高。这是一篇在学习 MySQL 时的学习笔记" name=description><meta content=article property=og:type><meta content="MySQL 学习笔记" property=og:title><meta content=http://seabreeze.zone/dbd3b6236ad0/index.html property=og:url><meta content="Sea Breeze" property=og:site_name><meta content="MySQL 是一个免费的关系型数据库，在同类产品中的占比较高。这是一篇在学习 MySQL 时的学习笔记" property=og:description><meta content=zh_CN property=og:locale><meta content=http://seabreeze.zone/assets/7DD7A87D89CE4420FCE677ED0C558892.png property=og:image><meta content=http://seabreeze.zone/assets/9CB4DBCF148F3D4AA8544F1EE8B2AD3C.png property=og:image><meta content=http://seabreeze.zone/assets/22A26B6CFC958A8519704470154E655E.png property=og:image><meta content=http://seabreeze.zone/assets/61103C2E858D38B071047AEB91A06132.png property=og:image><meta content=http://seabreeze.zone/assets/AFCB04AA9CBC68462ACF4BC7B257EBF3.png property=og:image><meta content=http://seabreeze.zone/assets/E49C16815B397F352E9561FA71820219.png property=og:image><meta content=http://seabreeze.zone/assets/164802646CE0B2838BBAF6D89CC71142.png property=og:image><meta content=http://seabreeze.zone/assets/289368C20C5AA1E6913C5C692F4CD155.png property=og:image><meta content=http://seabreeze.zone/assets/4A2B60D8EFBA498DE1C4C1A514092A50.png property=og:image><meta content=http://seabreeze.zone/assets/28313D74B36AB0B73F5017DE3293AD1D.png property=og:image><meta content=http://seabreeze.zone/assets/3B82B2D1A45E754B6F87C92A4468BA07.png property=og:image><meta content=http://seabreeze.zone/assets/EACE0910D39F537220A0C7A1C98E8BE0.png property=og:image><meta content=http://seabreeze.zone/assets/AA2A4B71DF254441CB4842893C3031B9.png property=og:image><meta content=http://seabreeze.zone/assets/9BA22111F3515600B9B6CBC1D78C6AE4.png property=og:image><meta content=http://seabreeze.zone/assets/93AB6C87B76E897D04B0D610E4F963DE.png property=og:image><meta content=http://seabreeze.zone/assets/637CF9D979A3F81D72657C24EFC3025D.png property=og:image><meta content=http://seabreeze.zone/assets/E45E9B2CDB400CAD5E656C97268DAADE.png property=og:image><meta content=http://seabreeze.zone/assets/F274D606F7A6559924770005EA3C30D6.png property=og:image><meta content=http://seabreeze.zone/assets/CE8723F056813961E46F6D93656EE140.png property=og:image><meta content=http://seabreeze.zone/assets/7F9DBB088B340BD4C0AAE392CEE34A19.png property=og:image><meta content=http://seabreeze.zone/assets/897AF274660A2B843ABF0AC2FC659CA2.png property=og:image><meta content=http://seabreeze.zone/assets/FBE80DE2B58C2D1EDFE9B060867EA8B9.png property=og:image><meta content=http://seabreeze.zone/assets/80AFC8FDBEEED56305C14CB401674200.png property=og:image><meta content=http://seabreeze.zone/assets/5458C423AB3DFFEC4D084B6976A3EF31.png property=og:image><meta content=http://seabreeze.zone/assets/3FDF807F475376C973BF6C25B1445003.png property=og:image><meta content=http://seabreeze.zone/assets/924B7E750804080E192749BB4460F6B5.png property=og:image><meta content=http://seabreeze.zone/assets/989AB56B012A815213A170D492CA9F00.png property=og:image><meta content=http://seabreeze.zone/assets/FE0249E9A8A69C249AB6D355BBDFD3B2.png property=og:image><meta content=http://seabreeze.zone/assets/084BF128CF11A0E1506847AA0557854A.png property=og:image><meta content=http://seabreeze.zone/assets/ACF12332D4397CD98B001138E384B5B6.png property=og:image><meta content=http://seabreeze.zone/assets/45D408BE47A5A4F9F4B635E9F90736A1.png property=og:image><meta content=http://seabreeze.zone/assets/EFE0B650BEEBAF86BC00E4258BF2C790.png property=og:image><meta content=http://seabreeze.zone/assets/F4CB40EDEACC8197951274B3B8956986.png property=og:image><meta content=http://seabreeze.zone/assets/48692B1DC3382B34160DF78A9606B2B1.png property=og:image><meta content=http://seabreeze.zone/assets/C804F774BC38AFF71F8A122618D4F03E.png property=og:image><meta content=http://seabreeze.zone/assets/CF7DA9C090CDE58B4D6CC2BB05660943.png property=og:image><meta content=http://seabreeze.zone/assets/FFBD0E6EC4690609F9ADB1C5709C081D.png property=og:image><meta content=http://seabreeze.zone/assets/805FB2E5DA319C35AEA4C62ABD301B45.png property=og:image><meta content=http://seabreeze.zone/assets/A3E079CEB7E7B4328729FA70D4BBFCA7.png property=og:image><meta content=http://seabreeze.zone/assets/DCCB431E31AC610663F115CFA3A701F2.png property=og:image><meta content=http://seabreeze.zone/assets/0982926360EAA910C8C164D48581FC1A.png property=og:image><meta content=http://seabreeze.zone/assets/90FFB02FA4598EC7BB7F99C9499053BD.png property=og:image><meta content=http://seabreeze.zone/assets/83C5407369F226594B43B9842E6BF754.png property=og:image><meta content=http://seabreeze.zone/assets/78354299BC31E8DB5E7654FA99702E71.png property=og:image><meta content=http://seabreeze.zone/assets/3EDDADE7698FC05BDE99A138092AA155.png property=og:image><meta content=http://seabreeze.zone/assets/4AC5781C1164A8955E70CBBA3A09010E.png property=og:image><meta content=http://seabreeze.zone/assets/F97A9421BFC16BC5D17E134CF01BB9DE.png property=og:image><meta content=http://seabreeze.zone/assets/EEC0CC5C2964FB435B9429575F45551A.png property=og:image><meta content=http://seabreeze.zone/assets/C5BA8C00B66BC39D598E67FAA59CB2A5.png property=og:image><meta content=http://seabreeze.zone/assets/563932ACB4D95871440E149D8182EEE8.png property=og:image><meta content=http://seabreeze.zone/assets/F5C8F55DC9275EBBC62E8DABE8587431.png property=og:image><meta content=http://seabreeze.zone/assets/8496DFC117D2CD2C8C73A4F735FC2A8E.png property=og:image><meta content=http://seabreeze.zone/assets/DBEE7F38267177F89899598DC9AD33A0.png property=og:image><meta content=http://seabreeze.zone/assets/C58312C46315E71F982E340FFA97C143.png property=og:image><meta content=http://seabreeze.zone/assets/496C96BCFB8988EE505D94E25AF9FD71.png property=og:image><meta content=http://seabreeze.zone/assets/EFAB1CC0FB672BE601DBA7C48F7A3EB7.png property=og:image><meta content=http://seabreeze.zone/assets/DC32F06C3FA015AE276CF382A282CDDE.png property=og:image><meta content=http://seabreeze.zone/assets/E814377E47DEC7B43868246FD615B99D.png property=og:image><meta content=http://seabreeze.zone/assets/CEFDD0C0E1B99B7D644FEC7801C77BDF.png property=og:image><meta content=http://seabreeze.zone/assets/8701F830739571A003B5FB476991796D.png property=og:image><meta content=http://seabreeze.zone/assets/8D84BEEC8CA377FBC5D826D1C0487227.png property=og:image><meta content=http://seabreeze.zone/assets/594F844A568D0FD5884418100D335D76.png property=og:image><meta content=http://seabreeze.zone/assets/3303A7259F0C16F141C61A8661E8EC0D.png property=og:image><meta content=http://seabreeze.zone/assets/2A508C86A3A4A844009707FBEE268820.png property=og:image><meta content=http://seabreeze.zone/assets/CE8E0A9719D78B1ED6F49CD8D5588044.png property=og:image><meta content=http://seabreeze.zone/assets/7508D6E37F444B18ECE39FE43FAD9608.png property=og:image><meta content=http://seabreeze.zone/assets/19AFA995B67682869FEEDC039C96D5BA.png property=og:image><meta content=http://seabreeze.zone/assets/4E80C4E6F81AD8DDC8C0B21BAAC435D2.png property=og:image><meta content=http://seabreeze.zone/assets/1910D542CC0A6C3A0BBBF76129ECF0EE.png property=og:image><meta content=http://seabreeze.zone/assets/243141D94954E71FEC7249259AEE11A5.png property=og:image><meta content=http://seabreeze.zone/assets/2815087020E35BF36AF97BB17F888BD8.png property=og:image><meta content=http://seabreeze.zone/assets/151EE5CF2F8318589C64FA5D6DF41187.png property=og:image><meta content=http://seabreeze.zone/assets/39196438FC24DE864783E6EC54A0CEBB.png property=og:image><meta content=http://seabreeze.zone/assets/F785913EC8DEE4FD34526996B2CBBA7C.png property=og:image><meta content=http://seabreeze.zone/assets/C4E9041ECE956AACEF9352703E2EB221.png property=og:image><meta content=http://seabreeze.zone/assets/826E0EC2ABFF04CC596F8C614A64A1C9.png property=og:image><meta content=http://seabreeze.zone/assets/2C1D095871522459237270B4CC52A1A4.png property=og:image><meta content=http://seabreeze.zone/assets/7B25E324F60A72F8AAB9BA590154F16F.png property=og:image><meta content=http://seabreeze.zone/assets/9248C3531C8B0B40F8D254B61BF71B02.png property=og:image><meta content=http://seabreeze.zone/assets/84E70102C9B7B6AF73EAC8BFB9E2C01D.png property=og:image><meta content=http://seabreeze.zone/images/2022/temp/3150471CAC27F4CB1F446EB22D3D71CD.png property=og:image><meta content=http://seabreeze.zone/images/2022/temp/3DB88DA05178845FC8C025D26910E844.png property=og:image><meta content=http://seabreeze.zone/images/2022/temp/68D11DAB0972BF617234312D846A9018.png property=og:image><meta content=2022-08-22T04:43:21.000Z property=article:published_time><meta content=2023-02-12T00:38:47.000Z property=article:modified_time><meta content=海上清风 property=article:author><meta content=MySQL property=article:tag><meta content=summary name=twitter:card><meta content=http://seabreeze.zone/assets/7DD7A87D89CE4420FCE677ED0C558892.png name=twitter:image><link href=http://seabreeze.zone/dbd3b6236ad0/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://seabreeze.zone/dbd3b6236ad0/","path":"dbd3b6236ad0/","title":"MySQL 学习笔记"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>MySQL 学习笔记 | Sea Breeze</title><script async src=/lib/fireworks.js></script><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>Sea Breeze</p> <i class=logo-line></i> </a></div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-2"><a class=nav-link href=#SQL%E5%88%86%E7%B1%BB><span class=nav-number>1.</span> <span class=nav-text>SQL 分类</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#DQL%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5><span class=nav-number>1.1.</span> <span class=nav-text>DQL—— 数据查询语句</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#DML%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C%E8%AF%AD%E8%A8%80><span class=nav-number>1.2.</span> <span class=nav-text>DML—— 数据操作语言</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#DDL%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80><span class=nav-number>1.3.</span> <span class=nav-text>DDL—— 数据定义语言</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#TCL%E2%80%94%E2%80%94%E4%BA%8B%E5%8A%A1%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80><span class=nav-number>1.4.</span> <span class=nav-text>TCL—— 事务控制语言</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#DCL%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80><span class=nav-number>1.5.</span> <span class=nav-text>DCL—— 数据控制语言</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#SQL%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C><span class=nav-number>2.</span> <span class=nav-text>SQL 基本操作</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5><span class=nav-number>3.</span> <span class=nav-text>查询语句</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE><span class=nav-number>3.1.</span> <span class=nav-text>查询所有数据</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%9F%A5%E8%AF%A2%E9%83%A8%E9%97%A8%E8%A1%A8%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE><span class=nav-number>3.1.1.</span> <span class=nav-text>查询部门表所有数据</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#%E6%9F%A5%E8%AF%A2%E5%91%98%E5%B7%A5%E8%A1%A8%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE><span class=nav-number>3.1.1.1.</span> <span class=nav-text>查询员工表所有数据</span></a><li class="nav-item nav-level-5"><a class=nav-link href=#%E6%9F%A5%E8%AF%A2%E5%B7%A5%E8%B5%84%E7%AD%89%E7%BA%A7%E8%A1%A8%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE><span class=nav-number>3.1.1.2.</span> <span class=nav-text>查询工资等级表所有数据</span></a></ol></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84><span class=nav-number>3.2.</span> <span class=nav-text>查看表结构</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#MySQL%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4><span class=nav-number>3.3.</span> <span class=nav-text>MySQL 常用命令</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2><span class=nav-number>4.</span> <span class=nav-text>简单查询</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#1%E6%9F%A5%E8%AF%A2%E9%83%A8%E9%97%A8%E5%90%8D%E7%A7%B0><span class=nav-number>4.1.</span> <span class=nav-text>1 查询部门名称</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#2%E6%9F%A5%E8%AF%A2%E4%B8%A4%E4%B8%AA%E5%AD%97%E6%AE%B5%E6%80%8E%E4%B9%88%E5%8A%9E><span class=nav-number>4.2.</span> <span class=nav-text>2 查询两个字段怎么办</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#3%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5><span class=nav-number>4.3.</span> <span class=nav-text>3 查询所有字段</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#4%E7%BB%99%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%88%97%E8%B5%B7%E5%88%AB%E5%90%8D><span class=nav-number>4.4.</span> <span class=nav-text>4 给查询的列起别名</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#5%E8%AE%A1%E7%AE%97%E5%91%98%E5%B7%A5%E7%9A%84%E5%B9%B4%E8%96%AA><span class=nav-number>4.5.</span> <span class=nav-text>5 计算员工的年薪</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2><span class=nav-number>5.</span> <span class=nav-text>条件查询</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%BB%80%E4%B9%88%E6%98%AF%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2><span class=nav-number>5.1.</span> <span class=nav-text>什么是条件查询</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%AD%89%E4%BA%8E><span class=nav-number>5.2.</span> <span class=nav-text>等于</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A4%A7%E4%BA%8E%E3%80%81%E5%B0%8F%E4%BA%8E%E5%92%8C%E4%B8%8D%E7%AD%89%E4%BA%8E><span class=nav-number>5.3.</span> <span class=nav-text>大于、小于和不等于</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#between%E2%80%A6%E2%80%A6and><span class=nav-number>5.4.</span> <span class=nav-text>between……and</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#is-null><span class=nav-number>5.5.</span> <span class=nav-text>is null</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#and><span class=nav-number>5.6.</span> <span class=nav-text>and</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#or><span class=nav-number>5.7.</span> <span class=nav-text>or</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#in%E5%92%8Cnot-in><span class=nav-number>5.8.</span> <span class=nav-text>in 和 not in</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#not><span class=nav-number>5.9.</span> <span class=nav-text>not</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%E2%80%94%E2%80%94like><span class=nav-number>5.10.</span> <span class=nav-text>模糊查询 ——like</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%8E%92%E5%BA%8F><span class=nav-number>6.</span> <span class=nav-text>排序</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0-x2F-%E5%8D%95%E8%A1%8C%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0><span class=nav-number>7.</span> <span class=nav-text>数据处理函数 / 单行处理函数</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#lower><span class=nav-number>7.1.</span> <span class=nav-text>lower</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#upper><span class=nav-number>7.2.</span> <span class=nav-text>upper</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#substr><span class=nav-number>7.3.</span> <span class=nav-text>substr</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#length><span class=nav-number>7.4.</span> <span class=nav-text>length</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#concat><span class=nav-number>7.5.</span> <span class=nav-text>concat</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#trim><span class=nav-number>7.6.</span> <span class=nav-text>trim</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#date-format><span class=nav-number>7.7.</span> <span class=nav-text>date_format</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#str-to-date><span class=nav-number>7.8.</span> <span class=nav-text>str_to_date</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#format><span class=nav-number>7.9.</span> <span class=nav-text>format</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#round><span class=nav-number>7.10.</span> <span class=nav-text>round</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#rand><span class=nav-number>7.11.</span> <span class=nav-text>rand()</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#case-%E2%80%A6%E2%80%A6-when-%E2%80%A6%E2%80%A6-then><span class=nav-number>7.12.</span> <span class=nav-text>case …… when …… then</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#ifnull><span class=nav-number>7.13.</span> <span class=nav-text>ifnull</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0-x2F-%E5%A4%9A%E8%A1%8C%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0><span class=nav-number>8.</span> <span class=nav-text>分组函数 / 多行处理函数</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#count%E8%AE%A1%E6%95%B0><span class=nav-number>8.1.</span> <span class=nav-text>count 计数</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#sum%E6%B1%82%E5%92%8C><span class=nav-number>8.2.</span> <span class=nav-text>sum 求和</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#avg%E5%B9%B3%E5%9D%87%E5%80%BC><span class=nav-number>8.3.</span> <span class=nav-text>avg 平均值</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#max%E6%B1%82%E6%9C%80%E5%A4%A7%E5%80%BC><span class=nav-number>8.4.</span> <span class=nav-text>max 求最大值</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#min%E6%B1%82%E6%9C%80%E5%B0%8F%E5%80%BC><span class=nav-number>8.5.</span> <span class=nav-text>min 求最小值</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89><span class=nav-number>9.</span> <span class=nav-text>分组查询（重点）</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#group-by><span class=nav-number>9.1.</span> <span class=nav-text>group by</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#having><span class=nav-number>9.2.</span> <span class=nav-text>having</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#select%E8%AF%AD%E5%8F%A5%E6%80%BB%E7%BB%93><span class=nav-number>9.3.</span> <span class=nav-text>select 语句总结</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%8E%BB%E9%87%8D><span class=nav-number>10.</span> <span class=nav-text>去重</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2><span class=nav-number>11.</span> <span class=nav-text>连接查询</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%88%86%E7%B1%BB><span class=nav-number>11.1.</span> <span class=nav-text>连接查询的分类</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%8E%B0%E8%B1%A1><span class=nav-number>11.2.</span> <span class=nav-text>笛卡尔积现象</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5><span class=nav-number>11.3.</span> <span class=nav-text>等值连接</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5><span class=nav-number>11.4.</span> <span class=nav-text>非等值连接</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%87%AA%E8%BF%9E%E6%8E%A5><span class=nav-number>11.5.</span> <span class=nav-text>自连接</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A4%96%E8%BF%9E%E6%8E%A5%E5%92%8C%E5%86%85%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%8C%BA%E5%88%AB><span class=nav-number>11.6.</span> <span class=nav-text>外连接和内连接的区别</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%A4%9A%E5%BC%A0%E8%A1%A8%E8%BF%9E%E6%8E%A5><span class=nav-number>11.7.</span> <span class=nav-text>多张表连接</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AD%90%E6%9F%A5%E8%AF%A2><span class=nav-number>12.</span> <span class=nav-text>子查询</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9F><span class=nav-number>12.1.</span> <span class=nav-text>什么是子查询？</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%AD%90%E6%9F%A5%E8%AF%A2%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%87%BA%E7%8E%B0%E5%9C%A8%E5%93%AA%E9%87%8C%E5%91%A2%EF%BC%9F><span class=nav-number>12.2.</span> <span class=nav-text>子查询都可以出现在哪里呢？</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#where%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2><span class=nav-number>12.3.</span> <span class=nav-text>where 子句中的子查询</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#from%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2><span class=nav-number>12.4.</span> <span class=nav-text>from 子句中的子查询</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#select%E5%90%8E%E9%9D%A2%E5%87%BA%E7%8E%B0%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2><span class=nav-number>12.5.</span> <span class=nav-text>select 后面出现的子查询</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#union%E5%90%88%E5%B9%B6%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E9%9B%86><span class=nav-number>13.</span> <span class=nav-text>union 合并查询结果集</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#limit><span class=nav-number>14.</span> <span class=nav-text>limit</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%80%9A%E7%94%A8%E5%88%86%E9%A1%B5><span class=nav-number>14.1.</span> <span class=nav-text>通用分页</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#DQL%E8%AF%AD%E5%8F%A5%E5%A4%A7%E6%80%BB%E7%BB%93><span class=nav-number>15.</span> <span class=nav-text>DQL 语句大总结</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#pass><span class=nav-number>16.</span> <span class=nav-text>pass</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%BB%83%E4%B9%A0><span class=nav-number>17.</span> <span class=nav-text>练习</span></a></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt=海上清风 class=site-author-image itemprop=image src=https://s2.loli.net/2022/07/14/EoyiatRMzvuJFG8.png><p class=site-author-name itemprop=name>海上清风<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>29</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>11</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>42</span> <span class=site-state-item-name>标签</span></a></div></nav></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=http://seabreeze.zone/dbd3b6236ad0/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://s2.loli.net/2022/07/14/EoyiatRMzvuJFG8.png itemprop=image> <meta content=海上清风 itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Sea Breeze" itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="MySQL 学习笔记 | Sea Breeze" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>MySQL 学习笔记</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2022-08-22 12:43:21" datetime=2022-08-22T12:43:21+08:00>2022-08-22</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/ itemprop=url rel=index><span itemprop=name>数据库</span></a> </span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>8.9k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>32 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p>MySQL 是一个免费的关系型数据库，在同类产品中的占比较高。这是一篇在学习 MySQL 时的学习笔记</p><span id=more></span><h2 id=SQL分类><a class=headerlink href=#SQL分类 title=SQL分类></a>SQL 分类</h2><h3 id=DQL——数据查询语句><a class=headerlink href=#DQL——数据查询语句 title=DQL——数据查询语句></a>DQL—— 数据查询语句</h3><p>数据查询语言 DQL 基本结构是由 SELECT 子句，FROM 子句，WHERE<br> 子句组成的查询块：<br> SELECT <字段名表><br> FROM <表或视图名><br> WHERE <查询条件><h3 id=DML——数据操作语言><a class=headerlink href=#DML——数据操作语言 title=DML——数据操作语言></a>DML—— 数据操作语言</h3><p>数据操作语言主要三种形式：insert、update 和 delete，主要是针对数据表内容进行增删改操作<h3 id=DDL——数据定义语言><a class=headerlink href=#DDL——数据定义语言 title=DDL——数据定义语言></a>DDL—— 数据定义语言</h3><p>数据定义语言主要三种形式：create、alter 和 drop，主要是针对数据表结构进行增删改操作<h3 id=TCL——事务控制语言><a class=headerlink href=#TCL——事务控制语言 title=TCL——事务控制语言></a>TCL—— 事务控制语言</h3><p>事务相关的主要是提交和回滚，分别是 commit 和 rollback<h3 id=DCL——数据控制语言><a class=headerlink href=#DCL——数据控制语言 title=DCL——数据控制语言></a>DCL—— 数据控制语言</h3><p>数据控制语言主要是对权限的授权与撤销，分别是 grant 和 revoke<h2 id=SQL基本操作><a class=headerlink href=#SQL基本操作 title=SQL基本操作></a>SQL 基本操作</h2><p>登录 MySQL<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>mysql -u root -p</span><br></pre></table></figure><p>查询所有数据库<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>show databases;</span><br></pre></table></figure><p>使用数据库<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>use 数据库名</span><br></pre></table></figure><p>查询数据库中的表<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>show tables;</span><br></pre></table></figure><p>查看表结构<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>desc 表名</span><br></pre></table></figure><p>数据源：<a href=https://asuna773.lanzoul.com/ip8Q20ai4szg rel=noopener target=_blank>蓝奏云</a> <a href=https://pan.baidu.com/s/14YFsGUVB8uw18TPwmu_Xhg?pwd=yyds rel=noopener target=_blank>百度网盘</a> 提取码：yyds<h2 id=查询语句><a class=headerlink href=#查询语句 title=查询语句></a>查询语句</h2><p>首先查看所有的数据库中存在的表<p><img alt=7DD7A87D89CE4420FCE677ED0C558892 src=/./assets/7DD7A87D89CE4420FCE677ED0C558892.png><p>dept 是部门表<p>emp 是员工表<p>salgrade 是工资等级表<h3 id=查询所有数据><a class=headerlink href=#查询所有数据 title=查询所有数据></a>查询所有数据</h3><h4 id=查询部门表所有数据><a class=headerlink href=#查询部门表所有数据 title=查询部门表所有数据></a>查询部门表所有数据</h4><p><img alt=9CB4DBCF148F3D4AA8544F1EE8B2AD3C src=/./assets/9CB4DBCF148F3D4AA8544F1EE8B2AD3C.png><p>deptno 部门编号<p>dname 部门名称<p>loc 部门地址<h5 id=查询员工表所有数据><a class=headerlink href=#查询员工表所有数据 title=查询员工表所有数据></a>查询员工表所有数据</h5><p><img alt=22A26B6CFC958A8519704470154E655E src=/./assets/22A26B6CFC958A8519704470154E655E.png><p>empno 员工编号<p>ename 员工名称<p>job 工作岗位<p>mgr 上级领导编号<p>hiredate 入职日期<p>sal 工资<p>comm 补助<p>deptno 部门编号<h5 id=查询工资等级表所有数据><a class=headerlink href=#查询工资等级表所有数据 title=查询工资等级表所有数据></a>查询工资等级表所有数据</h5><p><img alt=61103C2E858D38B071047AEB91A06132 src=/./assets/61103C2E858D38B071047AEB91A06132.png><p>grade 工资等级<p>losal 最低工资<p>hisal 最高工资<h3 id=查看表结构><a class=headerlink href=#查看表结构 title=查看表结构></a>查看表结构</h3><p>不看表数据只看表结构<p><img alt=AFCB04AA9CBC68462ACF4BC7B257EBF3 src=/./assets/AFCB04AA9CBC68462ACF4BC7B257EBF3.png><h3 id=MySQL常用命令><a class=headerlink href=#MySQL常用命令 title=MySQL常用命令></a>MySQL 常用命令</h3><figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>exit;	退出</span><br><span class=line>quit;	退出</span><br><span class=line>select version();	MySQL版本</span><br><span class=line>select database();	当前使用的数据库</span><br></pre></table></figure><p><img alt=E49C16815B397F352E9561FA71820219 src=/./assets/E49C16815B397F352E9561FA71820219.png><h2 id=简单查询><a class=headerlink href=#简单查询 title=简单查询></a>简单查询</h2><figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select 字段名 from 表名;</span><br></pre></table></figure><p>select 和 from 是关键字，字段名和表名都是标识符；<p><strong>强调</strong><p>SQL 语句以 “;” 结尾<p>MySQL 不区分大小写<h3 id=1查询部门名称><a title="1	查询部门名称" class=headerlink href=#1查询部门名称></a>1 查询部门名称</h3><figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select dname from dept;</span><br></pre></table></figure><p><img alt=164802646CE0B2838BBAF6D89CC71142 src=/./assets/164802646CE0B2838BBAF6D89CC71142.png><h3 id=2查询两个字段怎么办><a title="2	查询两个字段怎么办" class=headerlink href=#2查询两个字段怎么办></a>2 查询两个字段怎么办</h3><p>使用逗号隔开<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select deptno,dname from dept;</span><br></pre></table></figure><p><img alt=289368C20C5AA1E6913C5C692F4CD155 src=/./assets/289368C20C5AA1E6913C5C692F4CD155.png><h3 id=3查询所有字段><a title="3	查询所有字段" class=headerlink href=#3查询所有字段></a>3 查询所有字段</h3><figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select * from dept;</span><br></pre></table></figure><p><img alt=4A2B60D8EFBA498DE1C4C1A514092A50 src=/./assets/4A2B60D8EFBA498DE1C4C1A514092A50.png><p>缺点：效率低、可读性差<h3 id=4给查询的列起别名><a title="4	给查询的列起别名" class=headerlink href=#4给查询的列起别名></a>4 给查询的列起别名</h3><p><img alt=28313D74B36AB0B73F5017DE3293AD1D src=/./assets/28313D74B36AB0B73F5017DE3293AD1D.png><p>只是将显示的显示结果列明显示出来，并不会修改原表数据<p>select 永远不会修改操作<p>思考：as 关键字可以省略吗？<p>实践：<p><img alt=3B82B2D1A45E754B6F87C92A4468BA07 src=/./assets/3B82B2D1A45E754B6F87C92A4468BA07.png><p>根据实践可得，as 关键字可以省略，当别名中需要有空格时，别名使用单引号引起来<p><strong>注意：</strong> MySQL 语句中单引号才是最符合语法的，不推荐双引号，在 Oracle 中使用双引号是非法的。<p><strong>在此强调：</strong> 单引号是正统，双引号是异端（必须铲除！）<h3 id=5计算员工的年薪><a title="5	计算员工的年薪" class=headerlink href=#5计算员工的年薪></a>5 计算员工的年薪</h3><p>计算年薪则是 sal 字段乘以 12<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,sal*12 as '年薪' from emp;</span><br></pre></table></figure><p><img alt=EACE0910D39F537220A0C7A1C98E8BE0 src=/./assets/EACE0910D39F537220A0C7A1C98E8BE0.png><p><strong>注意：</strong> 1、字段名可以参与数学运算<p>​ 2、别命中有中文需要用单引号引起来，<h2 id=条件查询><a class=headerlink href=#条件查询 title=条件查询></a>条件查询</h2><h3 id=什么是条件查询><a class=headerlink href=#什么是条件查询 title=什么是条件查询></a>什么是条件查询</h3><p>很显然，条件查询是查询符合条件的数据，那条件查询的语法格式如下：<p>select 字段 from 表名 where 条件<h3 id=等于><a class=headerlink href=#等于 title=等于></a>等于</h3><p>查询薪资等于 800 的员工名字和编号<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal = 800;</span><br></pre></table></figure><p><img alt=AA2A4B71DF254441CB4842893C3031B9 src=/./assets/AA2A4B71DF254441CB4842893C3031B9.png><h3 id=大于、小于和不等于><a class=headerlink href=#大于、小于和不等于 title=大于、小于和不等于></a>大于、小于和不等于</h3><p>查询不等于 800 的员工<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal != 800;</span><br><span class=line>select empno,ename from emp where sal <> 800;</span><br></pre></table></figure><p><img alt=9BA22111F3515600B9B6CBC1D78C6AE4 src=/./assets/9BA22111F3515600B9B6CBC1D78C6AE4.png><p>查询薪资低于 2000 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal < 2000;</span><br></pre></table></figure><p><img alt=93AB6C87B76E897D04B0D610E4F963DE src=/./assets/93AB6C87B76E897D04B0D610E4F963DE.png><p>查询薪资小于等于 3000 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal <= 3000;</span><br></pre></table></figure><p><img alt=637CF9D979A3F81D72657C24EFC3025D src=/./assets/637CF9D979A3F81D72657C24EFC3025D.png><p>查询薪资大于 3000 的员工<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal > 3000;</span><br></pre></table></figure><p><img alt=E45E9B2CDB400CAD5E656C97268DAADE src=/./assets/E45E9B2CDB400CAD5E656C97268DAADE.png><p>查询薪资大于等于 2500 的员工<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal >= 2500;</span><br></pre></table></figure><p><img alt=F274D606F7A6559924770005EA3C30D6 src=/./assets/F274D606F7A6559924770005EA3C30D6.png><p><strong>思考：</strong> 能否查询字符串<p><strong>实践：</strong><figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where ename="KING";</span><br></pre></table></figure><p><img alt=CE8723F056813961E46F6D93656EE140 src=/./assets/CE8723F056813961E46F6D93656EE140.png><h3 id=between……and><a class=headerlink href=#between……and title=between……and></a>between……and</h3><p>查询薪资在 1000 到 3000 之间的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal>=1000 and sal <= 3000;</span><br></pre></table></figure><p><img alt=7F9DBB088B340BD4C0AAE392CEE34A19 src=/./assets/7F9DBB088B340BD4C0AAE392CEE34A19.png><p>第二种方法实现 ——between and<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where sal between 1000 and 3000;</span><br></pre></table></figure><p><img alt=897AF274660A2B843ABF0AC2FC659CA2 src=/./assets/897AF274660A2B843ABF0AC2FC659CA2.png><p>可以看出效果是同样的<p><strong>注意：</strong> 在使用 between……and 时，必须遵循左小右大的规则<h3 id=is-null><a title="is null" class=headerlink href=#is-null></a>is null</h3><p>查询补助为 null 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,comm from emp where comm is null;</span><br></pre></table></figure><p><img alt=FBE80DE2B58C2D1EDFE9B060867EA8B9 src=/./assets/FBE80DE2B58C2D1EDFE9B060867EA8B9.png><p><strong>注意：在数据库中 null 不能使用等号衡量，因为数据库中代表什么也没有，所以不能使用等号</strong><p><img alt=80AFC8FDBEEED56305C14CB401674200 src=/./assets/80AFC8FDBEEED56305C14CB401674200.png><p>查询补助不为 null 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,comm from emp where comm is not null;</span><br></pre></table></figure><p><img alt=5458C423AB3DFFEC4D084B6976A3EF31 src=/./assets/5458C423AB3DFFEC4D084B6976A3EF31.png><p><strong>注意：0 是数值 0，不是 null</strong><h3 id=and><a class=headerlink href=#and title=and></a>and</h3><p>查询工作岗位是 manager 并且工资大于 2500 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,job,sal from emp where job='MANAGER' and sal > 2500;</span><br></pre></table></figure><p><img alt=3FDF807F475376C973BF6C25B1445003 src=/./assets/3FDF807F475376C973BF6C25B1445003.png><h3 id=or><a class=headerlink href=#or title=or></a>or</h3><p>查询工作岗位是 manager 或者 salesman 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,job from emp where job='MANAGER' or job='SALESMAN';</span><br></pre></table></figure><p><img alt=924B7E750804080E192749BB4460F6B5 src=/./assets/924B7E750804080E192749BB4460F6B5.png><p><strong>思考：and 和 or 同时使用，有优先级吗？</strong><p>查询薪资大于 2500，并且部门部门编号为 10 或者 20 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,sal,deptno from emp where sal>2500 and (deptno=10 or deptno=20);</span><br></pre></table></figure><p>and 和 or 同时出现，and 优先级比较高<h3 id=in和not-in><a title="in和not in" class=headerlink href=#in和not-in></a>in 和 not in</h3><p>这表示的是包含和不包含<p>查询工作岗位是 manager 和 salesman 的员工<p>由上面的题可知，可以用等于和 or 来完成，但这里需要使用 in 或者 not in 来实现<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,job from emp where job in ('MANAGER','SALESMAN');</span><br></pre></table></figure><p><img alt=989AB56B012A815213A170D492CA9F00 src=/./assets/989AB56B012A815213A170D492CA9F00.png><p>找出工资是 800 和 5000 的员工信息（注意，不是 800 到 5000）<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,sal from emp where sal in ('800','5000');</span><br></pre></table></figure><p><img alt=FE0249E9A8A69C249AB6D355BBDFD3B2 src=/./assets/FE0249E9A8A69C249AB6D355BBDFD3B2.png><h3 id=not><a class=headerlink href=#not title=not></a>not</h3><p>not 的作用是取非，主要是在 is 和 in 中使用<p>找出工资不是 800 并且不是 5000 的员工信息<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,sal from emp where sal not in ('800','5000');</span><br></pre></table></figure><p><img alt=084BF128CF11A0E1506847AA0557854A src=/./assets/084BF128CF11A0E1506847AA0557854A.png><h3 id=模糊查询——like><a class=headerlink href=#模糊查询——like title=模糊查询——like></a>模糊查询 ——like</h3><p>支持 % 和下划线匹配<p>% 匹配多个字符<p>下划线匹配一个字符<p>查询名字中间含有 o 的<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where ename like '%o%';</span><br></pre></table></figure><p><img alt=ACF12332D4397CD98B001138E384B5B6 src=/./assets/ACF12332D4397CD98B001138E384B5B6.png><p>查询名字以 T 结尾的<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where ename like '%t';</span><br></pre></table></figure><p>查询名字以 K 开头的<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where ename like 'k%';</span><br></pre></table></figure><p><img alt=45D408BE47A5A4F9F4B635E9F90736A1 src=/./assets/45D408BE47A5A4F9F4B635E9F90736A1.png><p>查询第二个字母为 A 的<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where ename like '_a%';</span><br></pre></table></figure><p><img alt=EFE0B650BEEBAF86BC00E4258BF2C790 src=/./assets/EFE0B650BEEBAF86BC00E4258BF2C790.png><p>找出第三个字母是 R 的名字<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename from emp where ename like '__R%';</span><br></pre></table></figure><p><img alt=F4CB40EDEACC8197951274B3B8956986 src=/./assets/F4CB40EDEACC8197951274B3B8956986.png><p>临时创建一个表<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>create table t_student(name varchar(255));</span><br></pre></table></figure><p>表结构如下<p><img alt=48692B1DC3382B34160DF78A9606B2B1 src=/./assets/48692B1DC3382B34160DF78A9606B2B1.png><p>在表中插入以下数据：<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>insert into t_student values('zhangsan');</span><br><span class=line>insert into t_student values('wangwu');</span><br><span class=line>insert into t_student values('zhaoliu');</span><br><span class=line>insert into t_student values('jack_son');</span><br></pre></table></figure><p><img alt=C804F774BC38AFF71F8A122618D4F03E src=/./assets/C804F774BC38AFF71F8A122618D4F03E.png><p>在这个表中，使用模糊查询 like 查询名字带下划线的名字<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select name from t_student where name like '%\_%';</span><br></pre></table></figure><p>因为下划线在 MySQL 中有特殊含有，所以需要查询下划线字符时，需要进行转义<p><img alt=CF7DA9C090CDE58B4D6CC2BB05660943 src=/./assets/CF7DA9C090CDE58B4D6CC2BB05660943.png><h2 id=排序><a class=headerlink href=#排序 title=排序></a>排序</h2><p>查询员信息按工作排序<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,sal from emp order by sal;</span><br></pre></table></figure><p><img alt=FFBD0E6EC4690609F9ADB1C5709C081D src=/./assets/FFBD0E6EC4690609F9ADB1C5709C081D.png><p>不难看出，默认使用的是升序<p>如何实现降序呢？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select empno,ename,sal from emp order by sal desc;</span><br></pre></table></figure><p><img alt=805FB2E5DA319C35AEA4C62ABD301B45 src=/./assets/805FB2E5DA319C35AEA4C62ABD301B45.png><p><strong>思考：可以通过多个字段排序嘛？</strong><p>查询员工姓名和薪资，需要按薪资升序，如果薪资相同时按名字升序排序<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,sal from emp order by sal,ename asc;</span><br></pre></table></figure><p><img alt=A3E079CEB7E7B4328729FA70D4BBFCA7 src=/./assets/A3E079CEB7E7B4328729FA70D4BBFCA7.png><p>asc 表示升序表示<p>desc 表示降序<p><strong>注意：sal 在前起主导作用，在 sal 相等情况下再根据 ename 排序</strong><p>根据字段的位置排序<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,sal from emp order by 2;</span><br></pre></table></figure><p>根据查询结果的第二个排序<p>不推荐这样写，因为列的顺序很容易发生改变，只需了解即可<p><img alt=DCCB431E31AC610663F115CFA3A701F2 src=/./assets/DCCB431E31AC610663F115CFA3A701F2.png><p>综合案例：<p>找出工资在 1250 到 3000 之间的员工信息，要求按薪资降序排序。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,sal from emp where sal between 1250 and 3000 order by sal desc;</span><br></pre></table></figure><p><img alt=0982926360EAA910C8C164D48581FC1A src=/./assets/0982926360EAA910C8C164D48581FC1A.png><p>关键字顺序不可变<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>select</span><br><span class=line>	……</span><br><span class=line>from</span><br><span class=line>	……</span><br><span class=line>where</span><br><span class=line>	……</span><br><span class=line>order by</span><br><span class=line>	……</span><br></pre></table></figure><p>排序永远在最后执行<p>语句的执行顺序如下<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>from</span><br><span class=line>where</span><br><span class=line>select</span><br><span class=line>order by</span><br></pre></table></figure><h2 id=数据处理函数-x2F-单行处理函数><a class=headerlink href=#数据处理函数-x2F-单行处理函数 title=数据处理函数/单行处理函数></a>数据处理函数 / 单行处理函数</h2><p>数据处理函数又被成为单行处理函数，单行处理函数的特点是一个输入对应一个输出，和单行处理函数对应的是多行处理函数，接下来学习一下常用的单行处理函数<h3 id=lower><a class=headerlink href=#lower title=lower></a>lower</h3><p>lower 的作用是转换小写<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,lower(ename) as 'lower ename' from emp;</span><br></pre></table></figure><p><img alt=90FFB02FA4598EC7BB7F99C9499053BD src=/./assets/90FFB02FA4598EC7BB7F99C9499053BD.png><p>14 个输入对应 14 个输出<h3 id=upper><a class=headerlink href=#upper title=upper></a>upper</h3><p>upper 的作用是转换大写<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select name,upper(name) as 'upper name' from t_student;</span><br></pre></table></figure><p><img alt=83C5407369F226594B43B9842E6BF754 src=/./assets/83C5407369F226594B43B9842E6BF754.png><h3 id=substr><a class=headerlink href=#substr title=substr></a>substr</h3><p>substr 的作用是取子串，在此尝试截取名字的首个字母，substr 的参数分别是字段、开始下标，截取长度，可以看出，MySQL 中的下标是从 1 开始的，如果下标设置为 0 时取不到数据。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select substr(ename,1,1) as ename from emp;</span><br></pre></table></figure><p><img alt=78354299BC31E8DB5E7654FA99702E71 src=/./assets/78354299BC31E8DB5E7654FA99702E71.png><p>在前边，我们通过模糊查询实现了查询首字母为 K 的例子，那么使用取子串的 substr 函数是否可以实现呢？当然可以<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename from emp where substr(ename,1,1)='K';</span><br></pre></table></figure><p><img alt=3EDDADE7698FC05BDE99A138092AA155 src=/./assets/3EDDADE7698FC05BDE99A138092AA155.png><h3 id=length><a class=headerlink href=#length title=length></a>length</h3><p>怎么获取名字的长度呢？length 函数<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,length(ename) from emp;</span><br></pre></table></figure><p><img alt=4AC5781C1164A8955E70CBBA3A09010E src=/./assets/4AC5781C1164A8955E70CBBA3A09010E.png><h3 id=concat><a class=headerlink href=#concat title=concat></a>concat</h3><p>既然能获取到首个字母，那能否在 emp 表和 t_student 表实现名字首字母大写呢？<p>首先是拿到 emp 表的姓名首字母<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select substr(ename,1,1) from emp;</span><br></pre></table></figure><p>接下来就是拿到除去首字母外的字母，通过 length 来获取<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select substr(ename,2,length(ename)-1) from emp;</span><br></pre></table></figure><p>接下来就是对剩下的字母变成小写<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select lower(substr(ename,2,length(ename)-1)) from emp;</span><br></pre></table></figure><p>这就到了我们的的 concat 进行字符拼接了<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select concat(substr(ename,1,1),lower(substr(ename,2,length(ename)-1))) as name from emp;</span><br></pre></table></figure><p><img alt=F97A9421BFC16BC5D17E134CF01BB9DE src=/./assets/F97A9421BFC16BC5D17E134CF01BB9DE.png><p>同理的，t_student 也是同样的操作<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select concat(upper(substr(name,1,1)),substr(name,2,length(name)-1)) as name from t_student;</span><br></pre></table></figure><p><img alt=EEC0CC5C2964FB435B9429575F45551A src=/./assets/EEC0CC5C2964FB435B9429575F45551A.png><h3 id=trim><a class=headerlink href=#trim title=trim></a>trim</h3><p>trim 的作用是去除前后的空白<p>例如我们需要查询 King 的信息，我们会使用以下的 SQL 语句进行查询<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename from emp where ename = '  KING   ';</span><br></pre></table></figure><p>但由于条件查询的条件参数带有空格，并不能匹配到 KING，此时可以使用 trim 函数对参数进行处理。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename from emp where ename = trim('  KING   ');</span><br></pre></table></figure><p>此时便可得到想要的结果<p><img alt=C5BA8C00B66BC39D598E67FAA59CB2A5 src=/./assets/C5BA8C00B66BC39D598E67FAA59CB2A5.png><h3 id=date-format><a class=headerlink href=#date-format title=date_format></a>date_format</h3><p>这个函数主要将时间数据根据一定的格式进行输出<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,hiredate,date_format(hiredate,'%Y年%m月%d日') as '年月日' from emp;</span><br></pre></table></figure><p><img alt=563932ACB4D95871440E149D8182EEE8 src=/./assets/563932ACB4D95871440E149D8182EEE8.png><h3 id=str-to-date><a class=headerlink href=#str-to-date title=str_to_date></a>str_to_date</h3><p>这个函数和上面的函数恰好相反，这个函数是将特定格式的字符转成时间格式<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,date_format(hiredate,'%Y年%m月%d日') as '年月日',str_to_date(date_format(hiredate,'%Y年%m月%d日'),'%Y年%m月%d日') as date from emp;</span><br></pre></table></figure><p><img alt=F5C8F55DC9275EBBC62E8DABE8587431 src=/./assets/F5C8F55DC9275EBBC62E8DABE8587431.png><p>可以看到，兜兜转转一大圈，最后还是回到了原来的数据<h3 id=format><a class=headerlink href=#format title=format></a>format</h3><p>对数字格式化，讲数字转成货币的表现形式<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,sal,format(sal,0) from emp;</span><br></pre></table></figure><p><img alt=8496DFC117D2CD2C8C73A4F735FC2A8E src=/./assets/8496DFC117D2CD2C8C73A4F735FC2A8E.png><p>可以看到，原本普通形式的表现形式变成了三位一分号的表现形式，并且对小数点后两位进行了省略。<h3 id=round><a class=headerlink href=#round title=round></a>round</h3><p>四舍五入<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select 1234.567,round(1234.567,0),round(1234.567,1),round(1234.567,2),round(1234.567,3),round(1234.567,4);</span><br></pre></table></figure><p><img alt=DBEE7F38267177F89899598DC9AD33A0 src=/./assets/DBEE7F38267177F89899598DC9AD33A0.png><p>可以明显的看到，当不保留小数时，因为小数第一位是 5，所以进行运算后个位进一，1234 变成了 1235，后面的都是同理，当保留的小数位数大于最大的小数位数时，可以发现并不会在小数的后面做加 0 操作。<h3 id=rand><a class=headerlink href=#rand title=rand()></a>rand()</h3><p>rand 函数的作用是生成随机数<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select rand() as random from emp;</span><br></pre></table></figure><p><img alt=C58312C46315E71F982E340FFA97C143 src=/./assets/C58312C46315E71F982E340FFA97C143.png><p>看到这个 SQL 语句是否有所疑惑，其实跟上面的语句一样，上面使用的都是字面值，而查询的结果有多少个数据，则会返回多少个与之对应的数据。<h3 id=case-……-when-……-then><a title="case …… when …… then" class=headerlink href=#case-……-when-……-then></a>case …… when …… then</h3><p>这个函数有点像其实不难理解，当什么时候做什么事情。<p>使用数据库中的数据做一个例子，当岗位为 clerk 时，薪资提升 20%，当岗位为 salesman 时，工资提升 30%。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	ename,</span><br><span class=line>	job,</span><br><span class=line>	sal,</span><br><span class=line>	case </span><br><span class=line>		job </span><br><span class=line>	when </span><br><span class=line>		'CLERK' </span><br><span class=line>	then </span><br><span class=line>		sal*1.2</span><br><span class=line>    when </span><br><span class=line>    	'SALESMAN'</span><br><span class=line>    then</span><br><span class=line>    	sal*1.3</span><br><span class=line>    else</span><br><span class=line>    	sal</span><br><span class=line>    end </span><br><span class=line>    	'涨薪后的工作'</span><br><span class=line>    from emp;</span><br></pre></table></figure><p><img alt=496C96BCFB8988EE505D94E25AF9FD71 src=/./assets/496C96BCFB8988EE505D94E25AF9FD71.png><h3 id=ifnull><a class=headerlink href=#ifnull title=ifnull></a>ifnull</h3><p>ifnull 函数需要接收两个参数，当前面的参数为不为空时，则会输出参数的内容，而当参数为空时，输出第二个参数的内容。<p>例子：在 emp 表中找出谁才是 BOSS<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,ifnull(mgr,'BOSS') as 'who is boss?' from emp;</span><br></pre></table></figure><p><img alt=EFAB1CC0FB672BE601DBA7C48F7A3EB7 src=/./assets/EFAB1CC0FB672BE601DBA7C48F7A3EB7.png><h2 id=分组函数-x2F-多行处理函数><a class=headerlink href=#分组函数-x2F-多行处理函数 title=分组函数/多行处理函数></a>分组函数 / 多行处理函数</h2><p>多行处理函数的特点是多个输入对应一个输出。<p><strong>注意： 分组函数在使用的时候必须分组才能使用，如果没有分组，整张表默认为一组，分组函数会自动忽略 Null 值，无需对 null 进行处理</strong><h3 id=count计数><a class=headerlink href=#count计数 title=count计数></a>count 计数</h3><p>统计公司员工人数<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select count(empno) as '人数统计' from emp;</span><br></pre></table></figure><p><img alt=DC32F06C3FA015AE276CF382A282CDDE src=/./assets/DC32F06C3FA015AE276CF382A282CDDE.png><h3 id=sum求和><a class=headerlink href=#sum求和 title=sum求和></a>sum 求和</h3><p>求公司每月工资开销<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select sum(sal) as '工资开销' from emp;</span><br></pre></table></figure><p><img alt=E814377E47DEC7B43868246FD615B99D src=/./assets/E814377E47DEC7B43868246FD615B99D.png><h3 id=avg平均值><a class=headerlink href=#avg平均值 title=avg平均值></a>avg 平均值</h3><p>求公司员工的平均工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select avg(sal) as '平均工资' from emp;</span><br></pre></table></figure><p><img alt=CEFDD0C0E1B99B7D644FEC7801C77BDF src=/./assets/CEFDD0C0E1B99B7D644FEC7801C77BDF.png><h3 id=max求最大值><a class=headerlink href=#max求最大值 title=max求最大值></a>max 求最大值</h3><p>求最高工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select max(sal) from emp;</span><br></pre></table></figure><p><img alt=8701F830739571A003B5FB476991796D src=/./assets/8701F830739571A003B5FB476991796D.png><h3 id=min求最小值><a class=headerlink href=#min求最小值 title=min求最小值></a>min 求最小值</h3><p>求最低工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select min(sal) from emp;</span><br></pre></table></figure><p><img alt=8D84BEEC8CA377FBC5D826D1C0487227 src=/./assets/8D84BEEC8CA377FBC5D826D1C0487227.png><p>思考，count (*) 和 count (具体自动) 的区别<p>count (具体自动) 代表该字段不为 null 的总和<p>count (*) 代表该表的行数总和，因为只要存在一行记录，那么这行数据则不可能所有字段都为 null，全部为 null 则代表没有这行记录<p><strong>注意：分组函数不能直接使用在 where 子语句中</strong><p>分组函数可以组合使用<h2 id=分组查询（重点）><a class=headerlink href=#分组查询（重点） title=分组查询（重点）></a>分组查询（重点）</h2><h3 id=group-by><a title="group by" class=headerlink href=#group-by></a>group by</h3><p>计算每个岗位的工资总和<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select job,sum(sal) from emp group by job;</span><br></pre></table></figure><p><img alt=594F844A568D0FD5884418100D335D76 src=/./assets/594F844A568D0FD5884418100D335D76.png><p>计算每个工作岗位的平均工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select job,avg(sal) from emp group by job;</span><br></pre></table></figure><p><img alt=3303A7259F0C16F141C61A8661E8EC0D src=/./assets/3303A7259F0C16F141C61A8661E8EC0D.png><p>找出每个工作岗位的最高工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select job,max(sal) from emp group by job;</span><br></pre></table></figure><p><img alt=2A508C86A3A4A844009707FBEE268820 src=/./assets/2A508C86A3A4A844009707FBEE268820.png><p>在 SQL 语句中，select 语句含有 group by 的话，select 只能跟参加分组的字段，以及分组函数，在 MySQL 中无意义，其他 SQL 中报错。<p>求每个部门的的最高工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select deptno,max(sal) from emp group by deptno;</span><br></pre></table></figure><p><img alt=CE8E0A9719D78B1ED6F49CD8D5588044 src=/./assets/CE8E0A9719D78B1ED6F49CD8D5588044.png><p>找出每个部门不同工作岗位的最高工资？<p>group by 可以多个字段<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select deptno,job,max(sal) from emp group by deptno,job;</span><br></pre></table></figure><p><img alt=7508D6E37F444B18ECE39FE43FAD9608 src=/./assets/7508D6E37F444B18ECE39FE43FAD9608.png><h3 id=having><a class=headerlink href=#having title=having></a>having</h3><p>使用 having 可以对分完组后的数据进一步进行过滤<p>求每个部门不同工作岗位的最高工资，并且要求薪资大于 1500。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select deptno,job,max(sal) from emp group by deptno,job having max(sal)>1500;</span><br></pre></table></figure><p><img alt=19AFA995B67682869FEEDC039C96D5BA src=/./assets/19AFA995B67682869FEEDC039C96D5BA.png><p>通过 having 可以对结果进行二次过滤，但上面的 SQL 语句效率就相对较低了，因为要求工资是大于 1500，所以可以在分组之前对薪资进行过滤。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select deptno,job,max(sal) from emp where sal > 1500 group by deptno,job;</span><br></pre></table></figure><p><img alt=4E80C4E6F81AD8DDC8C0B21BAAC435D2 src=/./assets/4E80C4E6F81AD8DDC8C0B21BAAC435D2.png><p>求每个部门的平均薪资，要求平均薪资大于 1500 的。<p>面对这个题目，使用 where 就无法处理了，那么就需要使用 having 了。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select deptno,job,avg(sal) from emp group by deptno,job having avg(sal)>1500;</span><br></pre></table></figure><p><img alt=1910D542CC0A6C3A0BBBF76129ECF0EE src=/./assets/1910D542CC0A6C3A0BBBF76129ECF0EE.png><h3 id=select语句总结><a class=headerlink href=#select语句总结 title=select语句总结></a>select 语句总结</h3><p>select<p>​ ……<p>from<p>​ ……<p>where<p>​ ……<p>group by<p>​ ……<p>having<p>​ ……<p>order by<p>​ ……<p>执行顺序如下：<p>1、from<p>2、where<p>3、group by<p>4、having<p>5、select<p>6、order by<p>从某张表查询数据，<p>先经过 where 条件筛选出有价值的数据，<p>对这些数据进行分组<p>分组后通过 having 进行二次过滤<p>通过 select 查询<p>最后进行排序输出<p><strong>思考：为什么分组函数不能在 where 子语句中使用？</strong><p>因为分组函数需要分组后才可以使用，如果没有分组则会将整张表作为一个分组，而 where 子语句中，并没有完成分组的，当没有 where 并且没有 group by 时，可以看做 group by 已经执行了。而 where 子语句，不管怎么看都是处于 where 到 group by 时的，那么就是还没开始 group by，所以不能使用分组函数。<p>找出每个岗位的平均薪资，要求显示平均薪资大于 1000 的，除去 MANAGER 岗位之外，要求按照平均薪资的降序排列。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select job,avg(sal) from emp where job != 'MANAGER' group by job having avg(sal) > 1000 order by avg(sal) desc;</span><br></pre></table></figure><p><img alt=243141D94954E71FEC7249259AEE11A5 src=/./assets/243141D94954E71FEC7249259AEE11A5.png><p><strong>技巧：在写 SQL 语句时，select 后可以先留空，按照这执行的顺序来写 SQL 语句</strong><p>例如此处的 SQL 语句，可以先这样写，指定好查询的表<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select xxx from emp;</span><br></pre></table></figure><p>下一步是 where，对排除的岗位进行筛选<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select xxx from emp where job != 'MANAGER';</span><br></pre></table></figure><p>此时可以进行分组，根据工作岗位进行分组<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select xxx from emp where job != 'MANAGER' group by job;</span><br></pre></table></figure><p>在分组完成后，对分组的数据进行二次筛选，将只显示平均工资大于 1000 的<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select xxx from emp where job != 'MANAGER' group by job having avg(sal) > 1000;</span><br></pre></table></figure><p>到了这一步就可以确定 select 后的字段内容了，因为分组后只能跟参与分组的字段和分组函数，所以是 job 和 avg (sal)<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select job,avg(sal) from emp where job != 'MANAGER' group by job having avg(sal) > 1000;</span><br></pre></table></figure><p>又因为需要对平均工资进行降序排序，所以最后需要进行一次 order by，降序的话就是 order desc<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select job,avg(sal) from emp where job != 'MANAGER' group by job having avg(sal) > 1000 order by avg(sal) desc;</span><br></pre></table></figure><h2 id=去重><a class=headerlink href=#去重 title=去重></a>去重</h2><p>如何实现去重呢？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select deptno,job from emp;</span><br></pre></table></figure><p><img alt=2815087020E35BF36AF97BB17F888BD8 src=/./assets/2815087020E35BF36AF97BB17F888BD8.png><p>像图中这种同一个部门同一个岗位的情况，需要进行去重，如何来实现呢？此处需要使用 distinct 关键字<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select distinct deptno,job from emp;</span><br></pre></table></figure><p><img alt=151EE5CF2F8318589C64FA5D6DF41187 src=/./assets/151EE5CF2F8318589C64FA5D6DF41187.png><p>可以看到，使用 distinct 关键字后，对于部门和岗位相同的数据进行了去重。<p><strong>注意：distinct 关键字只能出现在所有的字段前面</strong><p><strong>思考：那么在 distinct 中是否可以使用函数呢？</strong><p>统计工作岗位的数量<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select count(distinct job) from emp;</span><br></pre></table></figure><p><img alt=39196438FC24DE864783E6EC54A0CEBB src=/./assets/39196438FC24DE864783E6EC54A0CEBB.png><p>可以看到，完全是可以在函数中使用 distinct 的<h2 id=连接查询><a class=headerlink href=#连接查询 title=连接查询></a>连接查询</h2><h3 id=连接查询的分类><a class=headerlink href=#连接查询的分类 title=连接查询的分类></a>连接查询的分类</h3><p>内连接<ul><li>等值连接<li>非等值连接<li>自连接</ul><p>外连接<ul><li>左连接<li>右连接</ul><h3 id=笛卡尔积现象><a class=headerlink href=#笛卡尔积现象 title=笛卡尔积现象></a>笛卡尔积现象</h3><p><strong>思考：当两张表进行连接查询时没有限制的情况会发生什么现象</strong><p>查询每个员工所在部门名称？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select ename,dname from emp,dept;</span><br></pre></table></figure><p>此处是未做限制的情况对两张表进行连接查询，结果如下：<p><img alt=image-20220928215329614 src=/./assets/F785913EC8DEE4FD34526996B2CBBA7C.png><p><img alt=image-20220928215429794 src=/./assets/C4E9041ECE956AACEF9352703E2EB221.png><p>不难发现，这里是用的 emp 表中的 ename 跟 dept 表中的 dname 都进行了匹配，这种情况是我们不希望发生的<h3 id=等值连接><a class=headerlink href=#等值连接 title=等值连接></a>等值连接</h3><p>那么引用 SQL92 的写法写一个简单的 SQL 来实现这道题目，但规范还是参考后续的 SQL99 语法<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select e.ename,d.dname from emp e,dept d where e.deptno = d.deptno;</span><br></pre></table></figure><p><img alt=image-20220928220102211 src=/./assets/826E0EC2ABFF04CC596F8C614A64A1C9.png><p>可以看出，这已经符合了预期效果了，那么再看一看 SQL99 的语法怎么写的：<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select e.ename,d.dname from emp e inner join dept d on e.deptno = d.deptno;</span><br></pre></table></figure><p>所以连接的语法大概如下<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	查询的字段</span><br><span class=line>from</span><br><span class=line>	表1的名</span><br><span class=line>inner join</span><br><span class=line>	需要连接的表名</span><br><span class=line>on</span><br><span class=line>	筛选的条件</span><br></pre></table></figure><p>inner join 表示为内连接，可写可不写<h3 id=非等值连接><a class=headerlink href=#非等值连接 title=非等值连接></a>非等值连接</h3><p>找出每个员工的薪资等级，要求显示员工名、薪资、薪资等级？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select e.ename,e.sal,s.grade from emp e inner join salgrade s on e.sal between s.losal and s.hisal;</span><br></pre></table></figure><p><img alt=image-20220928221500823 src=/./assets/2C1D095871522459237270B4CC52A1A4.png><h3 id=自连接><a class=headerlink href=#自连接 title=自连接></a>自连接</h3><p>查询员工的上级领导，要求显示员工名和对应的领导名？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select a.ename '员工名',b.ename '领导名' from emp a inner join emp b on a.mgr = b.empno;</span><br></pre></table></figure><p><img alt=image-20220928231643885 src=/./assets/7B25E324F60A72F8AAB9BA590154F16F.png><p>自连接主要是将同一张表看成两张表便可<h3 id=外连接和内连接的区别><a class=headerlink href=#外连接和内连接的区别 title=外连接和内连接的区别></a>外连接和内连接的区别</h3><p>上面的连接便称为内连接，只有在条件满足的情况才会显示<p>而外连接分为左连接和右连接以及全连接，右连接指的是把 join 关键字右边的表看为主表，而左连接指的是把 join 关键字左边的表看为主表，即使主表的部分内容无法与次表的数据匹配也会进行展示。<p>查询每个员工的名字和所对应的部门名称，即使没有与之对应的部门也要查询出来<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select e.ename,d.dname from emp e right join dept d on e.deptno = d.deptno;</span><br></pre></table></figure><p><img alt=image-20220928233213272 src=/./assets/9248C3531C8B0B40F8D254B61BF71B02.png><p>在参考内连接的结果，会发现使用外连接多了一条记录<p><img alt=image-20220928233511691 src=/./assets/84E70102C9B7B6AF73EAC8BFB9E2C01D.png><p><strong>思考：外连接的查询记录数一定大于或者等于内连接的查询记录数</strong><p>对的，因为外连接会将主表未匹配的数据也查询出来<p>带有 right 的是右外连接，又叫做右连接。<p>带有 left 的是左外连接，又叫做左连接。<p>任何一个右连接都有左连接的写法。<p>任何一个左连接都有右连接的写法。<h3 id=多张表连接><a class=headerlink href=#多张表连接 title=多张表连接></a>多张表连接</h3><p>语法：<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre><td class=code><pre><span class=line>select</span><br><span class=line>	***</span><br><span class=line>from</span><br><span class=line>	a</span><br><span class=line>join</span><br><span class=line>	b</span><br><span class=line>on</span><br><span class=line>	a和b的连接条件</span><br><span class=line>left join</span><br><span class=line>	c</span><br><span class=line>on</span><br><span class=line>	a和c的连接条件</span><br><span class=line>right join</span><br><span class=line>	d</span><br><span class=line>on</span><br><span class=line>	a和d的连接条件</span><br></pre></table></figure><p>一条 SQL 中内连接和外连接可以混合使用，可以同时出现<p>案例：找出每个员工的部门名称以及工资等级，要求显示员工名、部门名、薪资、薪资等级<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select e.ename,d.dname,e.sal,s.grade from emp e join dept d on e.deptno = d.deptno join salgrade s on e.sal between s.losal and s.hisal;</span><br></pre></table></figure><p><img alt=image-20221017085349351 src=/././images/2022/temp/3150471CAC27F4CB1F446EB22D3D71CD.png><p>在此基础上，对题目进行一次升级<p>案例：找出每个员工的部门名称以及工资等级，还有上级领导，要求显示员工名、领导名、部门名、薪资、薪资等级？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select e.ename,e2.ename '领导名',d.dname,e.sal,s.grade from emp e left join emp e2 on e.mgr = e2.empno join dept d on e.deptno = d.deptno join salgrade s on e.sal between s.losal and s.hisal;</span><br></pre></table></figure><p><img alt=image-20221017090543712 src=/././images/2022/temp/3DB88DA05178845FC8C025D26910E844.png><h2 id=子查询><a class=headerlink href=#子查询 title=子查询></a>子查询</h2><h3 id=什么是子查询？><a class=headerlink href=#什么是子查询？ title=什么是子查询？></a>什么是子查询？</h3><p>​ select 语句中嵌套 select 语句，被嵌套的 select 语句称为子查询。<h3 id=子查询都可以出现在哪里呢？><a class=headerlink href=#子查询都可以出现在哪里呢？ title=子查询都可以出现在哪里呢？></a>子查询都可以出现在哪里呢？</h3><p>​ select<br>​ ..(select).<br>​ from<br>​ ..(select).<br>​ where<br>​ ..(select).<h3 id=where子句中的子查询><a class=headerlink href=#where子句中的子查询 title=where子句中的子查询></a>where 子句中的子查询</h3><p>案例：找出比最低工资高的员工姓名和工资？<p>错误思路：<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select sal from emp where sal>min(sal);</span><br></pre></table></figure><p>这个语句会报错，因为不能在 where 中使用分组函数<p><img alt=image-20221017092105977 src=/././images/2022/temp/68D11DAB0972BF617234312D846A9018.png><p>解决思路：<p>第一步：找到最低工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br></pre><td class=code><pre><span class=line>select min(sal) from emp;</span><br><span class=line>+----------+</span><br><span class=line>| min(sal) |</span><br><span class=line>+----------+</span><br><span class=line>|   800.00 |</span><br><span class=line>+----------+</span><br></pre></table></figure><p>第二部：找到比最低工资高<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line>select sal from emp where sal > 800;</span><br><span class=line>+---------+</span><br><span class=line>| sal     |</span><br><span class=line>+---------+</span><br><span class=line>| 1600.00 |</span><br><span class=line>| 1250.00 |</span><br><span class=line>| 2975.00 |</span><br><span class=line>| 1250.00 |</span><br><span class=line>| 2850.00 |</span><br><span class=line>| 2450.00 |</span><br><span class=line>| 3000.00 |</span><br><span class=line>| 5000.00 |</span><br><span class=line>| 1500.00 |</span><br><span class=line>| 1100.00 |</span><br><span class=line>|  950.00 |</span><br><span class=line>| 3000.00 |</span><br><span class=line>| 1300.00 |</span><br><span class=line>+---------+</span><br></pre></table></figure><p>第三步：合并<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line>mysql> select sal from emp where sal > (select min(sal) from emp);</span><br><span class=line>+---------+</span><br><span class=line>| sal     |</span><br><span class=line>+---------+</span><br><span class=line>| 1600.00 |</span><br><span class=line>| 1250.00 |</span><br><span class=line>| 2975.00 |</span><br><span class=line>| 1250.00 |</span><br><span class=line>| 2850.00 |</span><br><span class=line>| 2450.00 |</span><br><span class=line>| 3000.00 |</span><br><span class=line>| 5000.00 |</span><br><span class=line>| 1500.00 |</span><br><span class=line>| 1100.00 |</span><br><span class=line>|  950.00 |</span><br><span class=line>| 3000.00 |</span><br><span class=line>| 1300.00 |</span><br><span class=line>+---------+</span><br><span class=line>13 rows in set (0.00 sec)</span><br></pre></table></figure><h3 id=from子句中的子查询><a class=headerlink href=#from子句中的子查询 title=from子句中的子查询></a>from 子句中的子查询</h3><p>from 后面的子查询，可以将子查询的查询结果当做一张临时表。<p>案例：找出每个岗位的平均工资的薪资等级。<p>第一步：找到岗位平均工资<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>mysql> select job,avg(sal) avgsal from emp group by job;</span><br><span class=line>+-----------+-------------+</span><br><span class=line>| job       | avgsal      |</span><br><span class=line>+-----------+-------------+</span><br><span class=line>| ANALYST   | 3000.000000 |</span><br><span class=line>| CLERK     | 1037.500000 |</span><br><span class=line>| MANAGER   | 2758.333333 |</span><br><span class=line>| PRESIDENT | 5000.000000 |</span><br><span class=line>| SALESMAN  | 1400.000000 |</span><br><span class=line>+-----------+-------------+</span><br><span class=line>5 rows in set (0.00 sec)</span><br></pre></table></figure><p>第二步：把第一步的结果当成一张存在的表进行查询薪资等级<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>mysql> select t.job,t.avgsal,s.grade from (select job,avg(sal) avgsal from emp group by job) t join salgrade s on t.avgsal between s.losal and s.hisal;</span><br><span class=line>+-----------+-------------+-------+</span><br><span class=line>| job       | avgsal      | grade |</span><br><span class=line>+-----------+-------------+-------+</span><br><span class=line>| ANALYST   | 3000.000000 |     4 |</span><br><span class=line>| CLERK     | 1037.500000 |     1 |</span><br><span class=line>| MANAGER   | 2758.333333 |     4 |</span><br><span class=line>| PRESIDENT | 5000.000000 |     5 |</span><br><span class=line>| SALESMAN  | 1400.000000 |     2 |</span><br><span class=line>+-----------+-------------+-------+</span><br><span class=line>5 rows in set (0.00 sec)</span><br></pre></table></figure><h3 id=select后面出现的子查询><a class=headerlink href=#select后面出现的子查询 title=select后面出现的子查询></a>select 后面出现的子查询</h3><p>案例：找出每个员工的部门名称，要求显示员工名，部门名？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>select e.ename,e.deptno,(select d.dname from dept d where e.deptno = d.deptno) as dname from emp e;</span><br></pre></table></figure><p>注意：对于 select 后面的子查询来说，这个子查询只能一次返回 1 条结果<h2 id=union合并查询结果集><a class=headerlink href=#union合并查询结果集 title=union合并查询结果集></a>union 合并查询结果集</h2><p>案例：查询工作岗位是 MANAGER 和 SALESMAN 的员工？<p>使用老方法的实现方式：<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br></pre><td class=code><pre><span class=line>mysql> select ename,job from emp where job = 'MANAGER' or job = 'SALESMAN';</span><br><span class=line>+--------+----------+</span><br><span class=line>| ename  | job      |</span><br><span class=line>+--------+----------+</span><br><span class=line>| ALLEN  | SALESMAN |</span><br><span class=line>| WARD   | SALESMAN |</span><br><span class=line>| JONES  | MANAGER  |</span><br><span class=line>| MARTIN | SALESMAN |</span><br><span class=line>| BLAKE  | MANAGER  |</span><br><span class=line>| CLARK  | MANAGER  |</span><br><span class=line>| TURNER | SALESMAN |</span><br><span class=line>+--------+----------+</span><br><span class=line>7 rows in set (0.00 sec)</span><br><span class=line></span><br><span class=line>mysql> select ename,job from emp where job in ('MANAGER','SALESMAN');</span><br><span class=line>+--------+----------+</span><br><span class=line>| ename  | job      |</span><br><span class=line>+--------+----------+</span><br><span class=line>| ALLEN  | SALESMAN |</span><br><span class=line>| WARD   | SALESMAN |</span><br><span class=line>| JONES  | MANAGER  |</span><br><span class=line>| MARTIN | SALESMAN |</span><br><span class=line>| BLAKE  | MANAGER  |</span><br><span class=line>| CLARK  | MANAGER  |</span><br><span class=line>| TURNER | SALESMAN |</span><br><span class=line>+--------+----------+</span><br><span class=line>7 rows in set (0.00 sec)</span><br></pre></table></figure><p>使用 union 实现<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line>mysql> select ename,job from emp where job = 'MANAGER'</span><br><span class=line>    -> union</span><br><span class=line>    -> select ename,job from emp where job = 'SALESMAN';</span><br><span class=line>+--------+----------+</span><br><span class=line>| ename  | job      |</span><br><span class=line>+--------+----------+</span><br><span class=line>| JONES  | MANAGER  |</span><br><span class=line>| BLAKE  | MANAGER  |</span><br><span class=line>| CLARK  | MANAGER  |</span><br><span class=line>| ALLEN  | SALESMAN |</span><br><span class=line>| WARD   | SALESMAN |</span><br><span class=line>| MARTIN | SALESMAN |</span><br><span class=line>| TURNER | SALESMAN |</span><br><span class=line>+--------+----------+</span><br><span class=line>7 rows in set (0.00 sec)</span><br></pre></table></figure><p>使用 union 的效率比之前的效率更高，对于表连接来说，每连接一次新表，则匹配的次数满足笛卡尔积，成倍的增长，但是 union 可以在减少匹配次数的情况下，还可以完成两个结果集的拼接。<p>多表连接<p>a 连接 b 连接 c<br> a 10 条记录<br> b 10 条记录<br> c 10 条记录<br> 匹配次数是：1000<p>使用 union 拼接<p>​ a 连接 b 一个结果：10 * 10 –> 100 次<br>​ a 连接 c 一个结果：10 * 10 –> 100 次<br>​ 100+100=200<p>union 在使用的时候有注意事项吗？<p>union 在进行结果集合并的时候，要求两个结果集的列数相同。<br>结果集合并时列和列的数据类型也要一致。<br>MYSQL 可以，oracle 语法严格 ，不可以<h2 id=limit><a class=headerlink href=#limit title=limit></a>limit</h2><p>limit 作用：将查询结果集的一部分取出来。通常使用在分页查询当中。<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>limit startIndex,lenght</span><br><span class=line>startIndex是起始下标，Lenght是长度，起始下标从0开始</span><br><span class=line>缺省用法：</span><br><span class=line>limit 5;</span><br><span class=line>这是取前5</span><br></pre></table></figure><p>mysql 当中 limit 在 order by 之后执行<p>案例：按照薪资降序，取出排名在前 5 名的员工？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>mysql> select ename,sal from emp order by sal desc limit 5;</span><br><span class=line>+-------+---------+</span><br><span class=line>| ename | sal     |</span><br><span class=line>+-------+---------+</span><br><span class=line>| KING  | 5000.00 |</span><br><span class=line>| FORD  | 3000.00 |</span><br><span class=line>| SCOTT | 3000.00 |</span><br><span class=line>| JONES | 2975.00 |</span><br><span class=line>| BLAKE | 2850.00 |</span><br><span class=line>+-------+---------+</span><br><span class=line>5 rows in set (0.00 sec)</span><br></pre></table></figure><p>案例：取出工资排名在 [3-5] 名的员工？<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>mysql> select ename,sal from emp order by sal desc limit 2,3;</span><br><span class=line>+-------+---------+</span><br><span class=line>| ename | sal     |</span><br><span class=line>+-------+---------+</span><br><span class=line>| SCOTT | 3000.00 |</span><br><span class=line>| JONES | 2975.00 |</span><br><span class=line>| BLAKE | 2850.00 |</span><br><span class=line>+-------+---------+</span><br><span class=line>3 rows in set (0.01 sec)</span><br></pre></table></figure><p>这个案例中的 2 代表从下标 2 开始，3 表示要获取的长度。<h3 id=通用分页><a class=headerlink href=#通用分页 title=通用分页></a>通用分页</h3><table><thead><tr><th>Page No<th>Pages<th>Start Index<th>PageSize<tbody><tr><td>1<td>[0,1,2,3,4]<td>0<td>5<tr><td>2<td>[5,6,7,8,9]<td>5<td>5<tr><td>3<td>[10,11,12,13,14]<td>10<td>5<tr><td>4<td>[15,16,17,18,19]<td>15<td>5</table><p>在做分页查询时，Page Size 始终保持不变，而 Start index 和 Page No 的关系则是（Page No - 1）* Page Size<p>例如当 Page No 为 5 时，Page Size 保持不变继续为 5，Start index 则等于（5 - 1）* 5 = 20<h2 id=DQL语句大总结><a class=headerlink href=#DQL语句大总结 title=DQL语句大总结></a>DQL 语句大总结</h2><p>整体结构<figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line>select</span><br><span class=line>	......</span><br><span class=line>from</span><br><span class=line>	......</span><br><span class=line>where</span><br><span class=line>	......</span><br><span class=line>group by</span><br><span class=line>	......</span><br><span class=line>having</span><br><span class=line>	......</span><br><span class=line>order by</span><br><span class=line>	......</span><br><span class=line>limit</span><br><span class=line>	......</span><br></pre></table></figure><p>执行顺序<p>1、from<br>2、where<br>3、group by<br>4、having<br>5、select<br>6、order by<br>7、limit<h2 id=pass><a class=headerlink href=#pass title=pass></a>pass</h2><h2 id=练习><a class=headerlink href=#练习 title=练习></a>练习</h2><ol><li><p>取得每个部门最高薪水的人员名称</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>mysql> select e.ename,e.sal,e.deptno from emp e join (select max(sal) sal,deptno from emp group by deptno) as t on e.sal = t.sal and e.deptno = t.deptno;</span><br><span class=line>+-------+---------+--------+</span><br><span class=line>| ename | sal     | deptno |</span><br><span class=line>+-------+---------+--------+</span><br><span class=line>| BLAKE | 2850.00 |     30 |</span><br><span class=line>| SCOTT | 3000.00 |     20 |</span><br><span class=line>| KING  | 5000.00 |     10 |</span><br><span class=line>| FORD  | 3000.00 |     20 |</span><br><span class=line>+-------+---------+--------+</span><br><span class=line>4 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>哪些人的薪水在部门的平均薪水之上</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>mysql> select e.ename,e.sal from emp e join (select avg(sal) sal ,deptno from emp group by deptno) t on e.deptno = t.deptno and e.sal>t.sal;</span><br><span class=line>+-------+---------+</span><br><span class=line>| ename | sal     |</span><br><span class=line>+-------+---------+</span><br><span class=line>| KING  | 5000.00 |</span><br><span class=line>| JONES | 2975.00 |</span><br><span class=line>| SCOTT | 3000.00 |</span><br><span class=line>| FORD  | 3000.00 |</span><br><span class=line>| ALLEN | 1600.00 |</span><br><span class=line>| BLAKE | 2850.00 |</span><br><span class=line>+-------+---------+</span><br><span class=line>6 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>取得部门中（所有人的）平均的薪水等级</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>mysql> select deptno,avg(grade) from emp e join salgrade s on e.sal between s.losal and s.hisal group by deptno;</span><br><span class=line>+--------+------------+</span><br><span class=line>| deptno | avg(grade) |</span><br><span class=line>+--------+------------+</span><br><span class=line>|     10 |     3.6667 |</span><br><span class=line>|     20 |     2.8000 |</span><br><span class=line>|     30 |     2.5000 |</span><br><span class=line>+--------+------------+</span><br><span class=line>3 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>不准用组函数（Max），取得最高薪水（给出两种解决方案）<br>方法 一</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>mysql> select sal from emp order by sal desc limit 0,1;</span><br><span class=line>+---------+</span><br><span class=line>| sal     |</span><br><span class=line>+---------+</span><br><span class=line>| 5000.00 |</span><br><span class=line>+---------+</span><br><span class=line>1 row in set (0.00 sec)</span><br></pre></table></figure> <p>方法二</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>mysql> select sal from emp where sal>=all(select sal from emp);</span><br><span class=line>+---------+</span><br><span class=line>| sal     |</span><br><span class=line>+---------+</span><br><span class=line>| 5000.00 |</span><br><span class=line>+---------+</span><br><span class=line>1 row in set (0.02 sec)</span><br></pre></table></figure> <p>方法三</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line>首先通过自连接查出工资不属于最高的</span><br><span class=line>mysql> select distinct t.sal from emp e join emp t on e.sal > t.sal;</span><br><span class=line>+---------+</span><br><span class=line>| sal     |</span><br><span class=line>+---------+</span><br><span class=line>|  800.00 |</span><br><span class=line>| 1600.00 |</span><br><span class=line>| 1250.00 |</span><br><span class=line>| 2975.00 |</span><br><span class=line>| 2850.00 |</span><br><span class=line>| 2450.00 |</span><br><span class=line>| 3000.00 |</span><br><span class=line>| 1500.00 |</span><br><span class=line>| 1100.00 |</span><br><span class=line>|  950.00 |</span><br><span class=line>| 1300.00 |</span><br><span class=line>+---------+</span><br><span class=line>11 rows in set (0.01 sec)</span><br><span class=line>再查询一次工资排除工资不属于最高的</span><br><span class=line>mysql> select sal from emp where sal not in (select t.sal from emp e join emp t on e.sal > t.sal);</span><br><span class=line>+---------+</span><br><span class=line>| sal     |</span><br><span class=line>+---------+</span><br><span class=line>| 5000.00 |</span><br><span class=line>+---------+</span><br><span class=line>1 row in set (0.00 sec)</span><br></pre></table></figure><li><p>取得平均薪水最高的部门的部门编号（至少给出两种解决方案）</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>mysql> select deptno from emp group by deptno order by avg(sal) desc limit 1;</span><br><span class=line>+--------+</span><br><span class=line>| deptno |</span><br><span class=line>+--------+</span><br><span class=line>|     10 |</span><br><span class=line>+--------+</span><br><span class=line>1 row in set (0.00 sec)</span><br></pre></table></figure> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>mysql> select max(t.avgsal) from (select avg(sal) avgsal from emp group by deptno) t;</span><br><span class=line>+---------------+</span><br><span class=line>| max(t.avgsal) |</span><br><span class=line>+---------------+</span><br><span class=line>|   2916.666667 |</span><br><span class=line>+---------------+</span><br><span class=line>1 row in set (0.00 sec)</span><br></pre></table></figure><li><p>取得平均薪水最高的部门的部门名称</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>mysql> select d.dname from emp e join dept d on e.deptno=d.deptno group by e.deptno order by avg(sal) desc limit 1;</span><br><span class=line>+------------+</span><br><span class=line>| dname      |</span><br><span class=line>+------------+</span><br><span class=line>| ACCOUNTING |</span><br><span class=line>+------------+</span><br><span class=line>1 row in set (0.00 sec)</span><br></pre></table></figure><li><p>求平均薪水的等级最低的部门的部门名称</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line>SELECT</span><br><span class=line>	t.*,</span><br><span class=line>	s.grade </span><br><span class=line>FROM</span><br><span class=line>	(</span><br><span class=line>	SELECT</span><br><span class=line>		d.dname,</span><br><span class=line>		avg( sal ) AS avgsal </span><br><span class=line>	FROM</span><br><span class=line>		emp e</span><br><span class=line>		JOIN dept d ON e.deptno = d.deptno </span><br><span class=line>	GROUP BY</span><br><span class=line>		d.dname </span><br><span class=line>	) t</span><br><span class=line>	JOIN salgrade s ON t.avgsal BETWEEN s.losal </span><br><span class=line>	AND s.hisal </span><br><span class=line>WHERE</span><br><span class=line>	s.grade = (</span><br><span class=line>	SELECT</span><br><span class=line>		grade </span><br><span class=line>	FROM</span><br><span class=line>		salgrade </span><br><span class=line>	WHERE</span><br><span class=line>		( SELECT avg( sal ) AS avgsal FROM emp GROUP BY deptno ORDER BY avgsal ASC LIMIT 1 ) BETWEEN losal </span><br><span class=line>	AND hisal </span><br><span class=line>	);</span><br></pre></table></figure> <p>结果</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>+-------+-------------+-------+</span><br><span class=line>   | dname | avgsal      | grade |</span><br><span class=line>   +-------+-------------+-------+</span><br><span class=line>   | SALES | 1566.666667 |     3 |</span><br><span class=line>   +-------+-------------+-------+</span><br></pre></table></figure><li><p>取得比普通员工 (员工代码没有在 mgr 字段上出现的) 的最高薪水还要高的 领导人姓名</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>mysql> select ename,sal from emp where sal > (select max(sal) from emp where empno not in (select distinct mgr from emp where mgr is not null));</span><br><span class=line>+-------+---------+</span><br><span class=line>| ename | sal     |</span><br><span class=line>+-------+---------+</span><br><span class=line>| JONES | 2975.00 |</span><br><span class=line>| BLAKE | 2850.00 |</span><br><span class=line>| CLARK | 2450.00 |</span><br><span class=line>| SCOTT | 3000.00 |</span><br><span class=line>| KING  | 5000.00 |</span><br><span class=line>| FORD  | 3000.00 |</span><br><span class=line>+-------+---------+</span><br><span class=line>6 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>取得薪水最高的前五名员工</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>mysql> select ename,sal from emp order by sal desc limit 5;</span><br><span class=line>+-------+---------+</span><br><span class=line>| ename | sal     |</span><br><span class=line>+-------+---------+</span><br><span class=line>| KING  | 5000.00 |</span><br><span class=line>| FORD  | 3000.00 |</span><br><span class=line>| SCOTT | 3000.00 |</span><br><span class=line>| JONES | 2975.00 |</span><br><span class=line>| BLAKE | 2850.00 |</span><br><span class=line>+-------+---------+</span><br><span class=line>5 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>取得薪水最高的第六到第十名员工</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>mysql> select ename,sal from emp order by sal desc limit 5,5;</span><br><span class=line>+--------+---------+</span><br><span class=line>| ename  | sal     |</span><br><span class=line>+--------+---------+</span><br><span class=line>| CLARK  | 2450.00 |</span><br><span class=line>| ALLEN  | 1600.00 |</span><br><span class=line>| TURNER | 1500.00 |</span><br><span class=line>| MILLER | 1300.00 |</span><br><span class=line>| WARD   | 1250.00 |</span><br><span class=line>+--------+---------+</span><br><span class=line>5 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>取得最后入职的 5 名员工</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>mysql> select * from emp order by hiredate desc limit 5;</span><br><span class=line>+-------+--------+---------+------+------------+---------+------+--------+</span><br><span class=line>| EMPNO | ENAME  | JOB     | MGR  | HIREDATE   | SAL     | COMM | DEPTNO |</span><br><span class=line>+-------+--------+---------+------+------------+---------+------+--------+</span><br><span class=line>|  7876 | ADAMS  | CLERK   | 7788 | 1987-05-23 | 1100.00 | NULL |     20 |</span><br><span class=line>|  7788 | SCOTT  | ANALYST | 7566 | 1987-04-19 | 3000.00 | NULL |     20 |</span><br><span class=line>|  7934 | MILLER | CLERK   | 7782 | 1982-01-23 | 1300.00 | NULL |     10 |</span><br><span class=line>|  7900 | JAMES  | CLERK   | 7698 | 1981-12-03 |  950.00 | NULL |     30 |</span><br><span class=line>|  7902 | FORD   | ANALYST | 7566 | 1981-12-03 | 3000.00 | NULL |     20 |</span><br><span class=line>+-------+--------+---------+------+------------+---------+------+--------+</span><br><span class=line>5 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>取得每个薪水等级有多少员工</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line>mysql> select grade,count(grade) num from emp e join salgrade s on e.sal between s.losal and s.hisal group by grade;</span><br><span class=line>+-------+-----+</span><br><span class=line>| grade | num |</span><br><span class=line>+-------+-----+</span><br><span class=line>|     1 |   3 |</span><br><span class=line>|     2 |   3 |</span><br><span class=line>|     3 |   2 |</span><br><span class=line>|     4 |   5 |</span><br><span class=line>|     5 |   1 |</span><br><span class=line>+-------+-----+</span><br><span class=line>5 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>题目：有 3 个表 S (学生表)，C（课程表），SC（学生选课表） S（SNO，SNAME）代表（学号，姓名） 95 / 103 C（CNO，CNAME，CTEACHER）代表（课号，课名，教师） SC（SNO，CNO，SCGRADE）代表（学号，课号，成绩） 问题： 1，找出没选过 “黎明” 老师的所有学生姓名。 2，列出 2 门以上（含 2 门）不及格学生姓名及平均成绩。 3，即学过 1 号课程又学过 2 号课所有学生的姓名。<br>13.1：找出没选过 “黎明” 老师的所有学生姓名。</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>    </span><br></pre></table></figure> <p>13.2：列出 2 门以上（含 2 门）不及格学生姓名及平均成绩。<br>13.3：即学过 1 号课程又学过 2 号课所有学生的姓名。</p><li><p>列出所有员工及领导的姓名</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br></pre><td class=code><pre><span class=line>mysql> select e.ename,t.ename from emp e left join emp t on e.mgr = t.empno;</span><br><span class=line>+--------+-------+</span><br><span class=line>| ename  | ename |</span><br><span class=line>+--------+-------+</span><br><span class=line>| SMITH  | FORD  |</span><br><span class=line>| ALLEN  | BLAKE |</span><br><span class=line>| WARD   | BLAKE |</span><br><span class=line>| JONES  | KING  |</span><br><span class=line>| MARTIN | BLAKE |</span><br><span class=line>| BLAKE  | KING  |</span><br><span class=line>| CLARK  | KING  |</span><br><span class=line>| SCOTT  | JONES |</span><br><span class=line>| KING   | NULL  |</span><br><span class=line>| TURNER | BLAKE |</span><br><span class=line>| ADAMS  | SCOTT |</span><br><span class=line>| JAMES  | BLAKE |</span><br><span class=line>| FORD   | JONES |</span><br><span class=line>| MILLER | CLARK |</span><br><span class=line>+--------+-------+</span><br><span class=line>14 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出受雇日期早于其直接上级的所有员工的编号，姓名，部门名称</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>mysql> select a.empno,a.ename,d.dname from emp a join emp b on a.mgr = b.empno and a.hiredate < b.hiredate join dept d on a.deptno = d.deptno;</span><br><span class=line>+-------+-------+------------+</span><br><span class=line>| empno | ename | dname      |</span><br><span class=line>+-------+-------+------------+</span><br><span class=line>|  7369 | SMITH | RESEARCH   |</span><br><span class=line>|  7499 | ALLEN | SALES      |</span><br><span class=line>|  7521 | WARD  | SALES      |</span><br><span class=line>|  7566 | JONES | RESEARCH   |</span><br><span class=line>|  7698 | BLAKE | SALES      |</span><br><span class=line>|  7782 | CLARK | ACCOUNTING |</span><br><span class=line>+-------+-------+------------+</span><br><span class=line>6 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出部门名称和这些部门的员工信息，同时列出那些没有员工的部门.</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line>mysql> select * from dept d left join emp e on d.deptno = e.deptno;</span><br><span class=line>+--------+------------+----------+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class=line>| DEPTNO | DNAME      | LOC      | EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |</span><br><span class=line>+--------+------------+----------+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class=line>|     20 | RESEARCH   | DALLAS   |  7369 | SMITH  | CLERK     | 7902 | 1980-12-17 |  800.00 |    NULL |     20 |</span><br><span class=line>|     30 | SALES      | CHICAGO  |  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |</span><br><span class=line>|     30 | SALES      | CHICAGO  |  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |</span><br><span class=line>|     20 | RESEARCH   | DALLAS   |  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |</span><br><span class=line>|     30 | SALES      | CHICAGO  |  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |</span><br><span class=line>|     30 | SALES      | CHICAGO  |  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |</span><br><span class=line>|     10 | ACCOUNTING | NEW YORK |  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |</span><br><span class=line>|     20 | RESEARCH   | DALLAS   |  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |</span><br><span class=line>|     10 | ACCOUNTING | NEW YORK |  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |</span><br><span class=line>|     30 | SALES      | CHICAGO  |  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |</span><br><span class=line>|     20 | RESEARCH   | DALLAS   |  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |</span><br><span class=line>|     30 | SALES      | CHICAGO  |  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |</span><br><span class=line>|     20 | RESEARCH   | DALLAS   |  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |</span><br><span class=line>|     10 | ACCOUNTING | NEW YORK |  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |</span><br><span class=line>|     40 | OPERATIONS | BOSTON   |  NULL | NULL   | NULL      | NULL | NULL       |    NULL |    NULL |   NULL |</span><br><span class=line>+--------+------------+----------+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class=line>15 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出至少有 5 个员工的所有部门</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>mysql> select d.dname,count(e.deptno) num from emp e join dept d on d.deptno = e.deptno group by e.deptno having count(e.deptno) >= 5;</span><br><span class=line>+----------+-----+</span><br><span class=line>| dname    | num |</span><br><span class=line>+----------+-----+</span><br><span class=line>| RESEARCH |   5 |</span><br><span class=line>| SALES    |   6 |</span><br><span class=line>+----------+-----+</span><br><span class=line>2 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出薪金比”SMITH” 多的所有员工信息</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line>mysql> select * from emp where sal > (select sal from emp where ename = 'SMITH');</span><br><span class=line>+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class=line>| EMPNO | ENAME  | JOB       | MGR  | HIREDATE   | SAL     | COMM    | DEPTNO |</span><br><span class=line>+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class=line>|  7499 | ALLEN  | SALESMAN  | 7698 | 1981-02-20 | 1600.00 |  300.00 |     30 |</span><br><span class=line>|  7521 | WARD   | SALESMAN  | 7698 | 1981-02-22 | 1250.00 |  500.00 |     30 |</span><br><span class=line>|  7566 | JONES  | MANAGER   | 7839 | 1981-04-02 | 2975.00 |    NULL |     20 |</span><br><span class=line>|  7654 | MARTIN | SALESMAN  | 7698 | 1981-09-28 | 1250.00 | 1400.00 |     30 |</span><br><span class=line>|  7698 | BLAKE  | MANAGER   | 7839 | 1981-05-01 | 2850.00 |    NULL |     30 |</span><br><span class=line>|  7782 | CLARK  | MANAGER   | 7839 | 1981-06-09 | 2450.00 |    NULL |     10 |</span><br><span class=line>|  7788 | SCOTT  | ANALYST   | 7566 | 1987-04-19 | 3000.00 |    NULL |     20 |</span><br><span class=line>|  7839 | KING   | PRESIDENT | NULL | 1981-11-17 | 5000.00 |    NULL |     10 |</span><br><span class=line>|  7844 | TURNER | SALESMAN  | 7698 | 1981-09-08 | 1500.00 |    0.00 |     30 |</span><br><span class=line>|  7876 | ADAMS  | CLERK     | 7788 | 1987-05-23 | 1100.00 |    NULL |     20 |</span><br><span class=line>|  7900 | JAMES  | CLERK     | 7698 | 1981-12-03 |  950.00 |    NULL |     30 |</span><br><span class=line>|  7902 | FORD   | ANALYST   | 7566 | 1981-12-03 | 3000.00 |    NULL |     20 |</span><br><span class=line>|  7934 | MILLER | CLERK     | 7782 | 1982-01-23 | 1300.00 |    NULL |     10 |</span><br><span class=line>+-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class=line>13 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出所有”CLERK”(办事员) 的姓名及其部门名称，部门的人数.</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>mysql> select e.ename,d.dname,num from emp e join dept d on e.deptno = d.deptno join (select deptno,count(deptno) num from emp group by deptno) t on t.deptno = e.deptno where job = 'CLERK';</span><br><span class=line>+--------+------------+-----+</span><br><span class=line>| ename  | dname      | num |</span><br><span class=line>+--------+------------+-----+</span><br><span class=line>| SMITH  | RESEARCH   |   5 |</span><br><span class=line>| ADAMS  | RESEARCH   |   5 |</span><br><span class=line>| JAMES  | SALES      |   6 |</span><br><span class=line>| MILLER | ACCOUNTING |   3 |</span><br><span class=line>+--------+------------+-----+</span><br><span class=line>4 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出最低薪金大于 1500 的各种工作及从事此工作的全部雇员人数.</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>mysql> select job,count(*) from emp group by job having min(sal)>1500;</span><br><span class=line>+-----------+----------+</span><br><span class=line>| job       | count(*) |</span><br><span class=line>+-----------+----------+</span><br><span class=line>| ANALYST   |        2 |</span><br><span class=line>| MANAGER   |        3 |</span><br><span class=line>| PRESIDENT |        1 |</span><br><span class=line>+-----------+----------+</span><br><span class=line>3 rows in set (0.02 sec)</span><br></pre></table></figure><li><p>列出在部门”SALES”<销售部> 工作的员工的姓名，假定不知道销售部的部 门编号.</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>mysql> select e.ename from emp e where deptno = (select deptno from dept where dname = 'SALES');</span><br><span class=line>+--------+</span><br><span class=line>| ename  |</span><br><span class=line>+--------+</span><br><span class=line>| ALLEN  |</span><br><span class=line>| WARD   |</span><br><span class=line>| MARTIN |</span><br><span class=line>| BLAKE  |</span><br><span class=line>| TURNER |</span><br><span class=line>| JAMES  |</span><br><span class=line>+--------+</span><br><span class=line>6 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出薪金高于公司平均薪金的所有员工，所在部门，上级领导，雇员的工资等级.</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>mysql> select e.ename,d.dname,a.ename '领导名',grade from emp e left join emp a on e.mgr = a.empno left join dept d on e.deptno = d.deptno left join salgrade s on e.sal between s.losal and s.hisal where e.sal > (select avg(sal) from emp);</span><br><span class=line>+-------+------------+--------+-------+</span><br><span class=line>| ename | dname      | 领导名 | grade |</span><br><span class=line>+-------+------------+--------+-------+</span><br><span class=line>| CLARK | ACCOUNTING | KING   |     4 |</span><br><span class=line>| JONES | RESEARCH   | KING   |     4 |</span><br><span class=line>| SCOTT | RESEARCH   | JONES  |     4 |</span><br><span class=line>| FORD  | RESEARCH   | JONES  |     4 |</span><br><span class=line>| BLAKE | SALES      | KING   |     4 |</span><br><span class=line>| KING  | ACCOUNTING | NULL   |     5 |</span><br><span class=line>+-------+------------+--------+-------+</span><br><span class=line>6 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出与”SCOTT” 从事相同工作的所有员工及部门名称</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>mysql> select e.ename,d.dname from emp e join dept d on e.deptno=d.deptno where e.job = (select job from emp where ename = 'SCOTT');</span><br><span class=line>+-------+----------+</span><br><span class=line>| ename | dname    |</span><br><span class=line>+-------+----------+</span><br><span class=line>| SCOTT | RESEARCH |</span><br><span class=line>| FORD  | RESEARCH |</span><br><span class=line>+-------+----------+</span><br><span class=line>2 rows in set (0.00 sec)</span><br></pre></table></figure><li><p>列出薪金等于部门 30 中员工的薪金的其他员工的姓名和薪金</p> <figure class="highlight plaintext"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>mysql> select ename,sal from emp where sal in (select distinct sal from emp where deptno = 30) and deptno <> 30;</span><br><span class=line>Empty set (0.00 sec)</span><br></pre></table></figure><li><p>列出薪金高于在部门 30 工作的所有员工的薪金的员工姓名和薪金。部门名 称</p><li><p>列出在每个部门工作的员工数量，平均工资和平均服务期限</p><li><p>列出所有员工的姓名、部门名称和工资</p><li><p>列出所有部门的详细信息和人数</p><li><p>列出各种工作的最低工资及从事此工作的雇员姓名</p><li><p>列出各个部门的 MANAGER (领导) 的最低薪金</p><li><p>列出所有员工的年工资，按年薪从低到高排序</p><li><p>求出员工领导的薪水超过 3000 的员工名称与领导名称</p><li><p>求出部门名称中，带’S’字符的部门员工的工资合计、部门人数</p><li><p>给任职日期超过 30 年的员工加薪 10%.</p></ol></div><footer class=post-footer><div class=post-tags><a href=/tags/MySQL/ rel=tag># MySQL</a></div><div class=post-nav><div class=post-nav-item><a title="Ubuntu20.04TLS 安装 MySQL8 和设置 root 密码" href=/bbcdbd386595/ rel=prev> <i class="fa fa-chevron-left"></i> Ubuntu20.04TLS 安装 MySQL8 和设置 root 密码 </a></div><div class=post-nav-item><a title="免费的 10G 对象存储 ——B2 云存储" href=/bd122dd4cb69/ rel=next> 免费的 10G 对象存储 ——B2 云存储 <i class="fa fa-chevron-right"></i> </a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© <span itemprop=copyrightYear>2023</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>海上清风</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>37k</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>2:13</span> </span></div><div class=powered-by>由 <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/pisces/ rel=noopener target=_blank>NexT.Pisces</a> 强力驱动</div></div></footer><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script crossorigin=anonymous integrity=sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao= src=https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/next-boot.js></script><script src=/js/pjax.js></script><script crossorigin=anonymous integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=/js/third-party/search/local-search.js></script><script src=/js/third-party/pace.js></script>